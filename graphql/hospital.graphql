mutation login($username: String!, $password: String!) {
  tokenAuth(username: $username, password: $password) {
    token
    success
    errors
    user {
      firstName
      hospital {
        id
        name
      }
      doctor {
        id
        name
        hospital {
          name
        }
      }
      isHospital
      isDoctor
    }
  }
}

mutation createPatientAuthorizedHospital($patientId: String) {
  createPatientAuthorizedHospital(patientId: $patientId) {
    ok
    patientAuthorizedHospital {
      id
      patientId {
        id
      }
      hospitalId {
        id
      }
    }
  }
}

mutation deletePatientAuthorizedHospital($patientId: String) {
  deletePatientAuthorizedHospital(patientId: $patientId) {
    ok
  }
}


mutation incrementHospitalResource($resource: String) {
  incrementHospitalResource(resource: $resource) {
    ok
  }
}

mutation decrementHospitalResource($resource: String) {
  decrementHospitalResource(resource: $resource) {
    ok
  }
}


query user {
  me {
    id
    firstName
    hospital {
      name
    }
  }
}

query admittedRecords {
  me {
    hospital {
      patientauthorizedhospitalSet {
        patientId {
          id
          name
          phone
          doctorpatientassignedSet {
            doctor {
              id
              name
            }
            assignedAt
            status
          }
          doctornotesSet {
            diagnosis
            predictedDisease
          }
        }
      }
    }
  }
}

fragment hospitalResources on HospitalResourceType {
  id
    bedCapacity
    bedAvailable
    ventilatorCapacity
    ventilatorAvailable
    icuCapacity
    icuAvailable
    bloodTest
    urineTest
    xray
    ultrasound
    mri
    ecg
    eeg
    ekg
    catscan
    mammogram
    colonoscopy
}

query currentHospitalResources {
  currentHospitalResource {
    ...hospitalResources
  }
}


query allHospitals  {
  allHospitals {
  id
  name
  address
  phone
  longitude
  latitude
  hospitalresource {
    ...hospitalResources
  }}
}

query ReferredInPatients {
  referredInPatients {
    id
    patient {
      name
    }
    hospitalReferredBy {
      name
    }
    hospitalReferred {
      name
    }
    reasonReferred
  }
}


query ReferredOutPatients {
  referredOutPatients {
    id
    patient {
      name
    }
    hospitalReferredBy {
      name
    }
    hospitalReferred {
      name
    }
    reasonReferred
  }
}
